# Common settings across all environments

# Prometheus Operator
prometheusOperator:
  enabled: true

# Prometheus
prometheus:
  prometheusSpec:
    retention: 15d
    retentionSize: "10GB"

    # Resource requests/limits
    resources:
      requests:
        cpu: 500m
        memory: 2Gi
      limits:
        cpu: 2000m
        memory: 4Gi

    # Service monitors - what to scrape
    serviceMonitorSelectorNilUsesHelmValues: false
    podMonitorSelectorNilUsesHelmValues: false

    # Additional scrape configs
    additionalScrapeConfigs: []

# Grafana
grafana:
  enabled: true
  adminPassword: "admin" # Override in production!

  # Plugins to install
  plugins:
    - grafana-piechart-panel
    - grafana-clock-panel

  # Default dashboards
  defaultDashboardsEnabled: true

  # Data sources
  additionalDataSources:
    - name: Loki
      type: loki
      url: http://loki:3100
      access: proxy
      isDefault: false
    - name: Tempo
      type: tempo
      url: http://tempo:3100
      access: proxy
      isDefault: false

# AlertManager
alertmanager:
  enabled: true
  alertmanagerSpec:
    retention: 120h

# Node Exporter
nodeExporter:
  enabled: true

# Kube State Metrics
kubeStateMetrics:
  enabled: true
